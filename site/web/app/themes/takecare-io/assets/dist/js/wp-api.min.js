!function(l){jQuery(document).ready(function(){l(".pagination").toggle();var t=l(".load-more__btn");t.css({opacity:0});var d=!1,a=t.data("offset")?t.data("offset"):0,i=2,n=t.data("postType"),r=t.data("cat"),o=t.data("tax");function s(){d=!0;var e={per_page:a,page:i};r&&""==o&&(e.categories=r),o&&(e[o]=r),l.ajax({url:wp_api_object.baseUrl+wp_api_object.jsonURI+n,method:"GET",data:e}).done(function(e,t,a){0===Object.keys(a.responseJSON).length&&JSON.stringify(a.responseJSON)===JSON.stringify([])?c():(l.each(a.responseJSON,function(e,t){html="company"==n?'<article class="grid-item post col-sm-6 col-lg-4"><div class="card"><a href="'+t.link+'"><div class="thumb">'+t.post_grid_data.thumbnail_rendered+'</div></a><div class="content"><h1><a href="'+t.link+'">'+t.title.rendered+'</a></h1><div class="category">'+t.post_grid_data.category_rendered+"</div>"+t.post_grid_data.exerpt_rendered+'<div class="meta">'+t.post_grid_data.city_rendered+t.post_grid_data.year_rendered+'<div class="tags">'+t.post_grid_data.main_tag_rendered+t.post_grid_data.tag_toggle_rendered+"</div></div></div></div></article>":'<article class="grid-item post col-sm-6 col-lg-4"><div class="card"><a href="'+t.link+'"><div class="thumb">'+t.post_grid_data.thumbnail_rendered+'</div></a><div class="content"><h1><a href="'+t.link+'">'+t.title.rendered+'</a></h1><div class="meta"><span>'+t.post_grid_data.date_rendered+"</span>"+t.post_grid_data.category_rendered+"</div></div></div></article>",l(".post-grid .row").append(html)}),d=!1,total_pages=parseInt(a.getResponseHeader("X-WP-TotalPages"),10),i==total_pages&&c(),i++)}).fail(function(){console.log("AJAX failed")})}function c(){t.addClass("hidden"),l(".load-more").addClass("hidden")}t.length&&window.addEventListener("scroll",function(e){!d&&function(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(t[0])&&(d||s())},!1),t.on("click",function(){d||s()})})}(jQuery);